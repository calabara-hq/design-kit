{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nvar react_1 = require(\"react\");\nfunction useCurrentCallback(callbackFactory, deps) {\n  var isCurrent = true;\n  var currentCheck = function () {\n    return isCurrent;\n  };\n  react_1.useEffect(function () {\n    return function () {\n      isCurrent = false;\n    };\n  }, deps);\n  return react_1.useCallback(callbackFactory(currentCheck), deps);\n}\nexports.useCurrentCallback = useCurrentCallback;","map":{"version":3,"names":["react_1","require","useCurrentCallback","callbackFactory","deps","isCurrent","currentCheck","useEffect","useCallback","exports"],"sources":["/home/weez/design-kit/node_modules/color-thief-react/node_modules/use-current-effect/src/useCurrentCallback.ts"],"sourcesContent":["import { useCallback, useEffect, DependencyList } from \"react\";\r\ntype CheckCurrent = () => boolean;\r\n\r\n/**\r\n * Create useCurrentCallback with a parameter to track the life of the callback\r\n *\r\n * @param callbackFactory The callback factory function, allowing injection of the\r\n * {@link CallbackState} that can be used to track if the callback's dependencies were altered\r\n * @param deps The dependencies of the effect. When they change,\r\n * the original callback's isCurrent state param will be set to false\r\n */\r\nexport function useCurrentCallback<T extends (...args: any[]) => any>(\r\n  callbackFactory: (isCurrent: CheckCurrent) => T,\r\n  deps?: DependencyList\r\n): (args: any) => void {\r\n  let isCurrent = true;\r\n  const currentCheck = () => isCurrent;\r\n\r\n  // useEffect clean up to react to the dependencies changing\r\n  useEffect(\r\n    () => () => {\r\n      isCurrent = false;\r\n    },\r\n    deps // eslint-disable-line react-hooks/exhaustive-deps\r\n  );\r\n\r\n  // create the callback using the factory function, injecting the current check function\r\n  return useCallback(callbackFactory(currentCheck), deps);\r\n}\r\n"],"mappings":";;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAWA,SAAgBC,kBAAkBA,CAChCC,eAA+C,EAC/CC,IAAqB;EAErB,IAAIC,SAAS,GAAG,IAAI;EACpB,IAAMC,YAAY,GAAG,SAAAA,CAAA;IAAM,OAAAD,SAAS;EAAT,CAAS;EAGpCL,OAAA,CAAAO,SAAS,CACP;IAAM;MACJF,SAAS,GAAG,KAAK;IACnB,CAAC;EAFK,CAEL,EACDD,IAAI,CACL;EAGD,OAAOJ,OAAA,CAAAQ,WAAW,CAACL,eAAe,CAACG,YAAY,CAAC,EAAEF,IAAI,CAAC;AACzD;AAjBAK,OAAA,CAAAP,kBAAA,GAAAA,kBAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}