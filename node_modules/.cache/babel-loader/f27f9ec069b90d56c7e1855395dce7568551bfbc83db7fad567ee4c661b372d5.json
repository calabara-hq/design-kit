{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar React = tslib_1.__importStar(require(\"react\"));\nvar use_current_effect_1 = require(\"use-current-effect\");\nvar utils_1 = require(\"../utils\");\n/**\n * React Hook to get palette color from img url\n */\nfunction usePalette(imgSrc, colorCount, format, options) {\n  if (colorCount === void 0) {\n    colorCount = 2;\n  }\n  if (options === void 0) {\n    options = {};\n  }\n  var _a = options.crossOrigin,\n    crossOrigin = _a === void 0 ? null : _a,\n    _b = options.quality,\n    quality = _b === void 0 ? 10 : _b;\n  var _c = React.useReducer(utils_1.reducer, utils_1.initialReducerState),\n    state = _c[0],\n    dispatch = _c[1];\n  use_current_effect_1.useCurrentEffect(function (isCurrent) {\n    dispatch({\n      type: 'start',\n      payload: null\n    });\n    utils_1.getColorsPaletteFromImgUrl(imgSrc, colorCount, format, crossOrigin, quality).then(function (color) {\n      if (isCurrent()) {\n        dispatch({\n          type: 'resolve',\n          payload: color\n        });\n      }\n    }).catch(function (ex) {\n      if (isCurrent()) {\n        dispatch({\n          type: 'reject',\n          payload: ex\n        });\n      }\n    });\n  }, [imgSrc]);\n  return state;\n}\nexports.default = usePalette;","map":{"version":3,"names":["React","tslib_1","__importStar","require","use_current_effect_1","utils_1","usePalette","imgSrc","colorCount","format","options","_a","crossOrigin","_b","quality","_c","useReducer","reducer","initialReducerState","state","dispatch","useCurrentEffect","isCurrent","type","payload","getColorsPaletteFromImgUrl","then","color","catch","ex","exports","default"],"sources":["../../src/Palette/usePalette.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA,CAAAC,YAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AAOA;;;AAGA,SAAwBG,UAAUA,CAIhCC,MAAc,EACdC,UAAc,EACdC,MAAS,EACTC,OAAwD;EAFxD,IAAAF,UAAA;IAAAA,UAAA,IAAc;EAAA;EAEd,IAAAE,OAAA;IAAAA,OAAA,KAAwD;EAAA;EAEhD,IAAAC,EAAA,GAAqCD,OAAO,CAAAE,WAA1B;IAAlBA,WAAW,GAAAD,EAAA,cAAG,IAAI,GAAAA,EAAA;IAAEE,EAAA,GAAiBH,OAAO,CAAAI,OAAZ;IAAZA,OAAO,GAAAD,EAAA,cAAG,EAAE,GAAAA,EAAA;EAElC,IAAAE,EAAA,GAAoBf,KAAK,CAACgB,UAAU,CAACX,OAAA,CAAAY,OAAO,EAAKZ,OAAA,CAAAa,mBAAmB,CAAC;IAApEC,KAAK,GAAAJ,EAAA;IAAEK,QAAQ,GAAAL,EAAA,GAAqD;EAE3EX,oBAAA,CAAAiB,gBAAgB,CACd,UAACC,SAAS;IACRF,QAAQ,CAAC;MAAEG,IAAI,EAAE,OAAO;MAAEC,OAAO,EAAE;IAAI,CAAE,CAAC;IAE1CnB,OAAA,CAAAoB,0BAA0B,CACxBlB,MAAM,EACNC,UAAU,EACVC,MAAM,EACNG,WAAW,EACXE,OAAO,CACR,CACEY,IAAI,CAAC,UAACC,KAAK;MACV,IAAIL,SAAS,EAAE,EAAE;QACfF,QAAQ,CAAC;UAAEG,IAAI,EAAE,SAAS;UAAEC,OAAO,EAAEG;QAAK,CAAE,CAAC;;IAEjD,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,EAAE;MACR,IAAIP,SAAS,EAAE,EAAE;QACfF,QAAQ,CAAC;UAAEG,IAAI,EAAE,QAAQ;UAAEC,OAAO,EAAEK;QAAE,CAAE,CAAC;;IAE7C,CAAC,CAAC;EACN,CAAC,EACD,CAACtB,MAAM,CAAC,CACT;EAED,OAAUY,KAAK;AACjB;AAvCAW,OAAA,CAAAC,OAAA,GAAAzB,UAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}